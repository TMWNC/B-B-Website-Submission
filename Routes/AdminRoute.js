// Created 08/07/2025 by Tommy Mannix

////////////////////////////////////////////////////////////////////////
// This route caters for all /admin routes
////////////////////////////////////////////////////////////////////////

const express = require("express");
const router = express.Router();
const path = require('path');

////////////////////////////////////////////////////////////////////////
// Middleware required for this route
// (e.g. session auth checks)
////////////////////////////////////////////////////////////////////////
const CheckAuth = require('../middleware/checkauth');

////////////////////////////////////////////////////////////////////////
//                     Start of /admin routes
////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////
// GET /admin
// - Renders the homepage
////////////////////////////////////////////////////////////////////////
router.get('/', async (req, res) => {
  res.render("../views/~Admin/AdminPage");
});



////////////////////////////////////////////////////////////////////////
// GET /admin/branch
// - Renders the homepage
////////////////////////////////////////////////////////////////////////
router.get('/Branch',CheckAuth.requireStaffAuth, async (req, res) => {
  console.log("fire")
  res.render("../views/~Admin/BranchHome");
});


////////////////////////////////////////////////////////////////////////
// POST /admin
// - Reserved for future form submissions (currently unused)
////////////////////////////////////////////////////////////////////////
router.post('/', async (req, res) => {
  // Placeholder: Implement post logic if needed
});


////////////////////////////////////////////////////////////////////////
// Export router module
////////////////////////////////////////////////////////////////////////
module.exports = router;
